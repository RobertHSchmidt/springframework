<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE flow PUBLIC "-//SPRING//DTD WEBFLOW 1.0//EN"
	"http://www.springframework.org/dtd/spring-webflow-1.0.dtd">

<flow start-state="displayBrowser">

	<input-mapper>
		<mapping source="items" target="flowScope.items"/>
		<mapping source="batchSize" target="flowScope.batchSize"/>
		<mapping source="link" target="flowScope.link"/>
		<mapping source="text" target="flowScope.text"/>
	</input-mapper>
	
	<!--  render item browser -->
	<!--  must be able to signal events on a embedded execution of 'itemView-flow.xml' -->
	<view-state id="displayBrowser" view="itemSelector">
		<transition on="select" to="done"/>
	</view-state>

	<end-state id="done">
		<output-mapper>
			<mapping source="flowScope.items[selectedItem]" target="item"/>
		</output-mapper>
	</end-state>
	
</flow>